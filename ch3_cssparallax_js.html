<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>CSS Parallax</title>
	<style>
		body {
			padding: 0px;
			margin: 0px;
		}
		.layer {
			position: absolute;
			width: 100%;
			height: 256px;
		}
		#back {
			background: #3BB9FF url(images/back1.png);
		}
		#middle {
			background: transparent url(images/back2.png);
		}
		#front {
			background: transparent url(images/back3.png);
		}
	</style>
	<script type="text/javascript" src="jquery-1.7.1.min.js"></script>
	<script type="text/javascript">
		$(function () {
			var speed = 0, 					// 速度
				$back = $('#back'), 		// 将3个div缓存起来
				$middle = $('#middle'),
				$front = $('#front'),
				xPos = 0,					// 背景图片的x坐标
				$win = $(window);

			// mousemove 根据鼠标位置计算速度
			// mouseout 将速度计为0
			$(document).mousemove(function (e) {
				var halfWidth = $win.width() / 2;
				speed = e.pageX - halfWidth;
				speed /= halfWidth;
			}).mouseout(function (e) {
				speed = 0;
			});

			setInterval(function () {
				xPos += speed;

				$back.css({
					backgroundPosition: xPos + 'px 0px'
				});
				$middle.css({
					backgroundPosition: 2 * xPos + 'px 0px'
				});
				$front.css({
					backgroundPosition: 3 * xPos + 'px 0px'
				});
			}, 30);
		});
	</script>
</head>
<body>
	<div id="back" class="layer"></div>
	<div id="middle" class="layer"></div>
	<div id="front" class="layer"></div>
</body>
</html>